System.register(["jimu-core/emotion","jimu-core","jimu-ui/advanced/data-source-selector"],function(e,l){var a={},i={},t={};return{setters:[function(e){a.Fragment=e.Fragment,a.jsx=e.jsx,a.jsxs=e.jsxs},function(e){i.DataSourceManager=e.DataSourceManager,i.DataSourceTypes=e.DataSourceTypes,i.Immutable=e.Immutable,i.React=e.React},function(e){t.DataSourceSelector=e.DataSourceSelector}],execute:function(){e((()=>{var e={89:e=>{"use strict";e.exports=t},244:e=>{"use strict";e.exports=i},386:e=>{"use strict";e.exports=a}},l={};function s(a){var i=l[a];if(void 0!==i)return i.exports;var t=l[a]={exports:{}};return e[a](t,t.exports,s),t.exports}s.d=(e,l)=>{for(var a in l)s.o(l,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})},s.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="";var n={};return s.p=window.jimuConfig.baseUrl,(()=>{"use strict";s.r(n),s.d(n,{__set_webpack_public_path__:()=>C,default:()=>y});var e=s(386),l=s(244),a=s(89);const i=[{id:"col_pratica",label:"N. pratica",field:"objectid",width:120},{id:"col_data",label:"Data rilev.",field:"data_rilevazione",width:150},{id:"col_stato",label:"Stato sintetico",field:"__stato_sint__",width:220},{id:"col_ufficio",label:"Ufficio",field:"ufficio_zona",width:170},{id:"col_ultimo",label:"Ultimo agg.",field:"__ultimo_agg__",width:170},{id:"col_prossima",label:"Prossima azione",field:"__prossima__",width:240}],t=(0,l.Immutable)({filterTabs:[],columns:i,orderByField:"objectid",orderByDir:"DESC",fieldPratica:"objectid",fieldDataRilevazione:"data_rilevazione",fieldUfficio:"ufficio_zona",fieldPresaDT:"presa_in_carico_DT",fieldDtPresaDT:"dt_presa_in_carico_DT",fieldStatoDT:"stato_DT",fieldDtStatoDT:"dt_stato_DT",fieldEsitoDT:"esito_DT",fieldDtEsitoDT:"dt_esito_DT",fieldPresaDA:"presa_in_carico_DA",fieldDtPresaDA:"dt_presa_in_carico_DA",fieldStatoDA:"stato_DA",fieldDtStatoDA:"dt_stato_DA",fieldEsitoDA:"esito_DA",fieldDtEsitoDA:"dt_esito_DA",presaDaPrendereVal:1,presaPresaVal:2,labelPresaDaPrendere:"Da prendere in carico",labelPresaPresa:"Presa in carico",statoDaPrendereVal:1,statoPresaVal:2,statoIntegrazioneVal:3,statoApprovataVal:4,statoRespintaVal:5,labelStatoDaPrendere:"Da prendere",labelStatoPresa:"Presa in carico",labelStatoIntegrazione:"Integrazione richiesta",labelStatoApprovata:"Approvata",labelStatoRespinta:"Respinta",esitoIntegrazioneVal:1,esitoApprovataVal:2,esitoRespintaVal:3,labelEsitoIntegrazione:"Integrazione richiesta",labelEsitoApprovata:"Approvata",labelEsitoRespinta:"Respinta",whereClause:"1=1",pageSize:200,showHeader:!0,headerPratica:"N. pratica",headerData:"Data rilev.",headerUfficio:"Ufficio",headerStato:"Stato sintetico",headerUltimoAgg:"Ultimo agg.",headerProssima:"Prossima azione",paddingLeftFirstCol:0,gap:12,colWidths:{pratica:120,data:150,stato:220,ufficio:170,ultimo:170,prossima:240},rowGap:8,rowPaddingX:12,rowPaddingY:10,rowMinHeight:44,rowRadius:12,rowBorderWidth:1,rowBorderColor:"rgba(0,0,0,0.08)",zebraEvenBg:"#ffffff",zebraOddBg:"#fbfbfb",hoverBg:"#f2f6ff",selectedBg:"#eaf2ff",selectedBorderColor:"#2f6fed",selectedBorderWidth:2,emptyMessage:"Nessun record trovato (view/filtro/permessi).",errorNoDs:"Configura la fonte dati del widget.",statoChipRadius:999,statoChipPadX:10,statoChipPadY:4,statoChipBorderW:1,statoChipFontWeight:600,statoChipFontSize:12,statoChipFontStyle:"normal",statoChipTextTransform:"none",statoChipLetterSpacing:0,statoBgDaPrendere:"#fff7e6",statoTextDaPrendere:"#7a4b00",statoBorderDaPrendere:"#ffd18a",statoBgPresa:"#eaf7ef",statoTextPresa:"#1f6b3a",statoBorderPresa:"#9ad2ae",statoBgAltro:"#f2f2f2",statoTextAltro:"#333333",statoBorderAltro:"#d0d0d0",maskOuterOffset:12,maskInnerPadding:8,maskBg:"#ffffff",maskBorderColor:"rgba(0,0,0,0.12)",maskBorderWidth:1,maskRadius:12,listTitleText:"Elenco rapporti di rilevazione",listTitleHeight:28,listTitlePaddingBottom:10,listTitlePaddingLeft:0,listTitleFontSize:14,listTitleFontWeight:600,listTitleColor:"rgba(0,0,0,0.85)"});var r=function(e,l,a,i){return new(a||(a=Promise))(function(t,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function r(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var l;e.done?t(e.value):(l=e.value,l instanceof a?l:new a(function(e){e(l)})).then(n,r)}o((i=i.apply(e,l||[])).next())})};const o={wrap:{padding:"0 12px 32px",fontSize:13,background:"#1a1f2e",minHeight:"100%",color:"#e5e7eb"},sec:{fontSize:11,fontWeight:700,color:"#93c5fd",textTransform:"uppercase",letterSpacing:1.2,borderBottom:"1px solid rgba(255,255,255,0.10)",paddingBottom:6,marginBottom:14,marginTop:22,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},lbl:{fontSize:11.5,fontWeight:600,color:"#d1d5db",display:"block",marginBottom:4,marginTop:10},hint:{fontSize:10.5,color:"#a0aec0",marginTop:3,lineHeight:1.4},row2:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},row3:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:6},inp:{width:"100%",padding:"5px 8px",fontSize:12,border:"1px solid rgba(255,255,255,0.15)",borderRadius:6,outline:"none",boxSizing:"border-box",background:"rgba(255,255,255,0.07)",color:"#e5e7eb"},grp:{fontSize:11,fontWeight:700,color:"#93c5fd",marginTop:14,marginBottom:6,paddingBottom:4,borderBottom:"1px solid rgba(255,255,255,0.07)"}},d=(e,l)=>{const a=Number(e);return Number.isFinite(a)?a:l};function c(e){return(null==e?void 0:e.asMutable)?e.asMutable({deep:!0}):e}function g(l){return(0,e.jsx)("input",{type:"text",value:l.value,onChange:e=>l.onChange(e.target.value),placeholder:l.placeholder,style:o.inp})}function h(l){return(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,e.jsx)("input",{type:"number",value:l.value,min:l.min,max:l.max,step:l.step||1,onChange:e=>l.onChange(Number(e.target.value)),style:Object.assign(Object.assign({},o.inp),{width:68})}),l.unit&&(0,e.jsx)("span",{style:{fontSize:11,color:"#a0aec0",flexShrink:0},children:l.unit})]})}function x(l){const a=/^#[0-9a-fA-F]{3,8}$/.test(l.value)?l.value:"#000000";return(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,e.jsx)("input",{type:"color",value:a,onChange:e=>l.onChange(e.target.value),style:{width:30,height:26,padding:2,border:"1px solid rgba(255,255,255,0.15)",borderRadius:5,cursor:"pointer",background:"transparent",flexShrink:0}}),(0,e.jsx)("input",{type:"text",value:l.value,onChange:e=>l.onChange(e.target.value),placeholder:"#rrggbb o rgba(...)",style:Object.assign(Object.assign({},o.inp),{flex:1,fontSize:11})})]})}function u(l){return(0,e.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12,color:"#d1d5db",cursor:"pointer",marginTop:8},children:[(0,e.jsx)("input",{type:"checkbox",checked:l.value,onChange:e=>l.onChange(e.target.checked)}),l.label]})}function p(l){return(0,e.jsx)("select",{value:l.value,onChange:e=>l.onChange(e.target.value),style:Object.assign(Object.assign({},o.inp),{cursor:"pointer"}),children:l.options.map(l=>(0,e.jsx)("option",{value:l.value,style:{background:"#1a1f2e",color:"#e5e7eb"},children:l.label},l.value))})}const b=[{name:"__stato_sint__",alias:"\u2699 Stato sintetico (calcolato)",type:"virtual"},{name:"__ultimo_agg__",alias:"\u2699 Ultimo aggiornamento (calcolato)",type:"virtual"},{name:"__prossima__",alias:"\u2699 Prossima azione (calcolato)",type:"virtual"}];function j(l){return l.fields.length?(0,e.jsxs)("select",{style:o.inp,value:l.value,onChange:e=>l.onChange(e.target.value),children:[(0,e.jsx)("option",{value:"",children:"\u2014 seleziona \u2014"}),l.virtual&&(0,e.jsx)("optgroup",{label:"Calcolati",children:b.map(l=>(0,e.jsx)("option",{value:l.name,children:l.alias},l.name))}),(0,e.jsx)("optgroup",{label:"Layer",children:l.fields.map(l=>(0,e.jsxs)("option",{value:l.name,children:[l.alias," (",l.name,")"]},l.name))})]}):(0,e.jsx)(g,{value:l.value,onChange:l.onChange,placeholder:l.placeholder||"nome campo"})}function v(l){return(0,e.jsxs)("div",{style:o.sec,onClick:l.onToggle,children:[(0,e.jsx)("span",{children:l.label}),(0,e.jsx)("span",{style:{fontSize:10,color:"#a0aec0"},children:l.open?"\u25b2":"\u25bc"})]})}function f(l){return(0,e.jsxs)("div",{style:{marginBottom:10},children:[(0,e.jsx)("div",{style:{fontSize:11,fontWeight:600,color:"#d1d5db",marginBottom:5},children:l.label}),(0,e.jsxs)("div",{style:o.row3,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{fontSize:10,color:"#a0aec0",marginBottom:3},children:"Sfondo"}),(0,e.jsx)(x,{value:l.bg,onChange:l.onBg})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{fontSize:10,color:"#a0aec0",marginBottom:3},children:"Testo"}),(0,e.jsx)(x,{value:l.text,onChange:l.onText})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{fontSize:10,color:"#a0aec0",marginBottom:3},children:"Bordo"}),(0,e.jsx)(x,{value:l.border,onChange:l.onBorder})]})]})]})}function m(a){const t=Array.isArray(a.columns)?a.columns:[],[s,n]=l.React.useState(null),[r,c]=l.React.useState(null),g=(e,l)=>a.onChange(t.map((a,i)=>i===e?Object.assign(Object.assign({},a),l):a)),h=(e,l)=>{if(e===l||l<0||l>=t.length)return;const i=[...t],[s]=i.splice(e,1);i.splice(l,0,s),a.onChange(i)},x={padding:"10px 12px",borderRadius:8,border:"1px solid rgba(255,255,255,0.10)",background:"rgba(255,255,255,0.04)",marginBottom:8},u=Object.assign(Object.assign({},x),{borderColor:"#93c5fd",background:"rgba(59,130,246,0.10)"}),p=Object.assign(Object.assign({},o.inp),{fontSize:12}),j={border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",borderRadius:5,cursor:"pointer",fontSize:11,padding:"3px 6px",color:"#d1d5db"},v=Object.assign(Object.assign({},j),{borderColor:"rgba(252,165,165,0.3)",background:"rgba(239,68,68,0.10)",color:"#fca5a5"});return(0,e.jsxs)("div",{style:{width:"100%"},children:[t.map((l,i)=>(0,e.jsxs)("div",{draggable:!0,onDragStart:()=>n(i),onDragOver:e=>{e.preventDefault(),c(i)},onDrop:()=>{null!==s&&s!==i&&h(s,i),n(null),c(null)},onDragEnd:()=>{n(null),c(null)},style:Object.assign(Object.assign({},r===i?u:x),{opacity:s===i?.45:1}),children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5,marginBottom:8},children:[(0,e.jsx)("span",{style:{cursor:"grab",fontSize:14,color:"rgba(255,255,255,0.35)",userSelect:"none"},children:"\u2630"}),(0,e.jsxs)("span",{style:{flex:1,fontSize:11,fontWeight:700,color:"#93c5fd"},children:["Col. ",i+1]}),(0,e.jsx)("button",{type:"button",style:j,disabled:0===i,onClick:()=>h(i,i-1),children:"\u25b2"}),(0,e.jsx)("button",{type:"button",style:j,disabled:i===t.length-1,onClick:()=>h(i,i+1),children:"\u25bc"}),(0,e.jsx)("button",{type:"button",style:v,onClick:()=>{return e=i,a.onChange(t.filter((l,a)=>a!==e));var e},children:"\u2715"})]}),(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 64px",gap:6,marginBottom:6},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{fontSize:10,color:"#a0aec0",marginBottom:3},children:"Intestazione"}),(0,e.jsx)("input",{type:"text",style:p,value:l.label,onChange:e=>g(i,{label:e.target.value}),placeholder:"Intestazione"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{fontSize:10,color:"#a0aec0",marginBottom:3},children:"Largh."}),(0,e.jsx)("input",{type:"number",style:Object.assign(Object.assign({},p),{textAlign:"center"}),value:l.width,min:40,step:10,onChange:e=>g(i,{width:d(e.target.value,120)})})]})]}),(0,e.jsx)("div",{style:{fontSize:10,color:"#a0aec0",marginBottom:3},children:"Campo"}),(0,e.jsxs)("select",{style:p,value:l.field,onChange:e=>g(i,{field:e.target.value}),children:[(0,e.jsx)("option",{value:"",children:"\u2014 seleziona \u2014"}),(0,e.jsx)("optgroup",{label:"Calcolati",children:b.map(l=>(0,e.jsx)("option",{value:l.name,children:l.alias},l.name))}),(0,e.jsx)("optgroup",{label:"Layer",children:(a.allFields||[]).map(l=>(0,e.jsxs)("option",{value:l.name,children:[l.alias," (",l.name,")"]},l.name))})]})]},l.id)),(0,e.jsxs)("div",{style:{display:"flex",gap:6,marginTop:4},children:[(0,e.jsx)("button",{type:"button",onClick:()=>a.onChange([...t,{id:`col_${Date.now()}`,label:"Nuova colonna",field:"",width:150}]),style:{flex:1,padding:"6px",borderRadius:8,border:"1px dashed rgba(147,197,253,0.4)",background:"rgba(59,130,246,0.08)",color:"#93c5fd",cursor:"pointer",fontSize:12,fontWeight:600},children:"\uff0b Aggiungi"}),(0,e.jsx)("button",{type:"button",onClick:()=>a.onChange(i.map(e=>Object.assign({},e))),style:{padding:"6px 10px",borderRadius:8,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.05)",color:"#d1d5db",cursor:"pointer",fontSize:11},children:"Reset"})]}),!t.length&&(0,e.jsx)("div",{style:Object.assign(Object.assign({},o.hint),{marginTop:8}),children:"Nessuna colonna. Premi Reset."})]})}function y(s){var n,b,y;const C=null!==(n=s.config)&&void 0!==n?n:t,S=Object.assign(Object.assign({},c(t)),c(C)),[D,T]=l.React.useState("dati"),P=e=>T(l=>l===e?"":e),B=e=>D===e,w=(e,a)=>{s.onSettingChange({id:s.id,config:C.set?C.set(e,a):(0,l.Immutable)(C).set(e,a)})},_=(0,l.Immutable)([l.DataSourceTypes.FeatureLayer]),z=c(null!==(b=s.useDataSources)&&void 0!==b?b:(0,l.Immutable)([])),A=String((null===(y=null==z?void 0:z[0])||void 0===y?void 0:y.dataSourceId)||""),[I,k]=l.React.useState([]);l.React.useEffect(()=>{let e=!1;return(()=>{r(this,void 0,void 0,function*(){var a,i;if(A)try{const t=l.DataSourceManager.getInstance().getDataSource(A),s=(null===(i=null===(a=null==t?void 0:t.getSchema)||void 0===a?void 0:a.call(t))||void 0===i?void 0:i.fields)||{},n=Object.keys(s).map(e=>{const l=s[e]||{};return{name:e,alias:String(l.alias||e),type:String(l.type||"")}}).sort((e,l)=>(e.alias||e.name).localeCompare(l.alias||l.name,"it",{sensitivity:"base"}));e||k(n)}catch(l){e||k([])}else e||k([])})})(),()=>{e=!0}},[A]);const O=S,R=(()=>{const e=c(null==O?void 0:O.columns);return Array.isArray(e)&&e.length>0?e.map(e=>({id:String(e.id||`col_${Math.random().toString(36).slice(2,8)}`),label:String(e.label||""),field:String(e.field||""),width:d(e.width,150)})):i.map(e=>Object.assign({},e))})();return(0,e.jsxs)("div",{style:o.wrap,children:[(0,e.jsx)(v,{id:"dati",label:"\u{1f4ca} Fonte dati",open:B("dati"),onToggle:()=>P("dati")}),B("dati")&&(0,e.jsxs)("div",{children:[(0,e.jsx)(a.DataSourceSelector,{widgetId:s.id,useDataSources:s.useDataSources,types:_,isMultiple:!0,mustUseDataSource:!0,onChange:e=>{var a;const i=c(null!=e?e:(0,l.Immutable)([])),t=c(null!==(a=C.filterTabs)&&void 0!==a?a:(0,l.Immutable)([])),n=l.DataSourceManager.getInstance(),r=i.map(e=>{var l;const a=String((null==e?void 0:e.dataSourceId)||""),i=t.find(e=>String((null==e?void 0:e.dataSourceId)||"")===a);if(i)return i;let s="";try{const e=n.getDataSource(a);s=String((null===(l=null==e?void 0:e.getLabel)||void 0===l?void 0:l.call(e))||"")}catch(e){}return s=s&&s.trim()?s.trim():"Filtro",{dataSourceId:a,label:s}}),o=C.set?C:(0,l.Immutable)(C);s.onSettingChange({id:s.id,useDataSources:e,config:o.set("filterTabs",r)})}}),(0,e.jsx)("div",{style:o.hint,children:"Pi\xf9 datasource \u2192 filtri come schede."}),z.length>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:o.grp,children:"Etichette schede"}),(()=>{var a;const i=c(null!==(a=S.filterTabs)&&void 0!==a?a:(0,l.Immutable)([])),t=[],s={};return z.forEach(e=>{const l=String((null==e?void 0:e.dataSourceId)||""),a=i.find(e=>String((null==e?void 0:e.dataSourceId)||"")===l),n=String((null==a?void 0:a.label)||"Filtro");null!=s[n]?t[s[n]].items.push({dsId:l}):(s[n]=t.length,t.push({label:n,items:[{dsId:l}]}))}),t.map((l,a)=>(0,e.jsxs)("div",{style:{marginBottom:8},children:[(0,e.jsxs)("label",{style:o.lbl,children:["Tab: ",l.label," ",(0,e.jsxs)("span",{style:{fontWeight:400,opacity:.6},children:["(",l.items.length," DS)"]})]}),(0,e.jsx)("input",{style:o.inp,value:l.label,placeholder:"Etichetta",onChange:e=>{const a=e.target.value,t=i.map(e=>Object.assign({},e));l.items.forEach(e=>{const l=t.findIndex(l=>String((null==l?void 0:l.dataSourceId)||"")===e.dsId);l>=0?t[l].label=a:t.push({dataSourceId:e.dsId,label:a})}),w("filterTabs",t)}})]},a))})()]})]}),(0,e.jsx)(v,{id:"colonne",label:"\u{1f4cb} Colonne",open:B("colonne"),onToggle:()=>P("colonne")}),B("colonne")&&(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:Object.assign(Object.assign({},o.hint),{marginBottom:10}),children:"Aggiungi, rimuovi e riordina. Trascina \u2630 o usa \u25b2\u25bc."}),(0,e.jsx)(m,{columns:R,allFields:I,onChange:e=>w("columns",e)})]}),(0,e.jsx)(v,{id:"query",label:"\u{1f50d} Query e ordinamento",open:B("query"),onToggle:()=>P("query")}),B("query")&&(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Where clause"}),(0,e.jsx)(g,{value:S.whereClause||"",onChange:e=>w("whereClause",e),placeholder:"1=1"}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Page size"}),(0,e.jsx)(h,{value:S.pageSize,onChange:e=>w("pageSize",e),min:1})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Direzione"}),(0,e.jsx)(p,{value:String(S.orderByDir||"DESC"),onChange:e=>w("orderByDir",e),options:[{value:"DESC",label:"DESC"},{value:"ASC",label:"ASC"}]})]})]}),(0,e.jsx)("label",{style:o.lbl,children:"Ordina per"}),(0,e.jsx)(j,{value:S.orderByField,fields:I,onChange:e=>w("orderByField",e),placeholder:"objectid"}),(0,e.jsx)(u,{value:!1!==S.showHeader,onChange:e=>w("showHeader",e),label:"Mostra intestazioni colonne"})]}),(0,e.jsx)(v,{id:"campi",label:"\u{1f5c2} Mapping campi",open:B("campi"),onToggle:()=>P("campi")}),B("campi")&&(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:o.grp,children:"Campi base"}),(0,e.jsx)("label",{style:o.lbl,children:"N. pratica"}),(0,e.jsx)(j,{value:S.fieldPratica,fields:I,onChange:e=>w("fieldPratica",e)}),(0,e.jsx)("label",{style:o.lbl,children:"Data rilevazione"}),(0,e.jsx)(j,{value:S.fieldDataRilevazione,fields:I,onChange:e=>w("fieldDataRilevazione",e)}),(0,e.jsx)("label",{style:o.lbl,children:"Ufficio"}),(0,e.jsx)(j,{value:S.fieldUfficio,fields:I,onChange:e=>w("fieldUfficio",e)}),(0,e.jsx)("div",{style:o.grp,children:"DT (Direttore Tecnico/Agrario)"}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"presa_in_carico"}),(0,e.jsx)(j,{value:S.fieldPresaDT,fields:I,onChange:e=>w("fieldPresaDT",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"dt_presa_in_carico"}),(0,e.jsx)(j,{value:S.fieldDtPresaDT,fields:I,onChange:e=>w("fieldDtPresaDT",e)})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"stato"}),(0,e.jsx)(j,{value:S.fieldStatoDT,fields:I,onChange:e=>w("fieldStatoDT",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"dt_stato"}),(0,e.jsx)(j,{value:S.fieldDtStatoDT,fields:I,onChange:e=>w("fieldDtStatoDT",e)})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"esito"}),(0,e.jsx)(j,{value:S.fieldEsitoDT,fields:I,onChange:e=>w("fieldEsitoDT",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"dt_esito"}),(0,e.jsx)(j,{value:S.fieldDtEsitoDT,fields:I,onChange:e=>w("fieldDtEsitoDT",e)})]})]}),(0,e.jsx)("div",{style:o.grp,children:"DA (Direttore Area Amministrativa)"}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"presa_in_carico"}),(0,e.jsx)(j,{value:S.fieldPresaDA,fields:I,onChange:e=>w("fieldPresaDA",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"dt_presa_in_carico"}),(0,e.jsx)(j,{value:S.fieldDtPresaDA,fields:I,onChange:e=>w("fieldDtPresaDA",e)})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"stato"}),(0,e.jsx)(j,{value:S.fieldStatoDA,fields:I,onChange:e=>w("fieldStatoDA",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"dt_stato"}),(0,e.jsx)(j,{value:S.fieldDtStatoDA,fields:I,onChange:e=>w("fieldDtStatoDA",e)})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"esito"}),(0,e.jsx)(j,{value:S.fieldEsitoDA,fields:I,onChange:e=>w("fieldEsitoDA",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"dt_esito"}),(0,e.jsx)(j,{value:S.fieldDtEsitoDA,fields:I,onChange:e=>w("fieldDtEsitoDA",e)})]})]})]}),(0,e.jsx)(v,{id:"domini",label:"\u{1f3f7} Domini e label",open:B("domini"),onToggle:()=>P("domini")}),B("domini")&&(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:o.grp,children:"Presa in carico"}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:'Val. "Da prendere"'}),(0,e.jsx)(h,{value:S.presaDaPrendereVal,onChange:e=>w("presaDaPrendereVal",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:'Val. "Presa"'}),(0,e.jsx)(h,{value:S.presaPresaVal,onChange:e=>w("presaPresaVal",e)})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:'Label "Da prendere"'}),(0,e.jsx)(g,{value:S.labelPresaDaPrendere||"",onChange:e=>w("labelPresaDaPrendere",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:'Label "Presa"'}),(0,e.jsx)(g,{value:S.labelPresaPresa||"",onChange:e=>w("labelPresaPresa",e)})]})]}),(0,e.jsx)("div",{style:o.grp,children:"Stato (1..5)"}),[["statoDaPrendereVal","labelStatoDaPrendere","Da prendere"],["statoPresaVal","labelStatoPresa","Presa in carico"],["statoIntegrazioneVal","labelStatoIntegrazione","Integrazione"],["statoApprovataVal","labelStatoApprovata","Approvata"],["statoRespintaVal","labelStatoRespinta","Respinta"]].map(([l,a,i])=>(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{style:o.lbl,children:[i," (val)"]}),(0,e.jsx)(h,{value:S[l],onChange:e=>w(l,e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Label"}),(0,e.jsx)(g,{value:S[a]||"",onChange:e=>w(a,e)})]})]},l)),(0,e.jsx)("div",{style:o.grp,children:"Esito (1..3)"}),[["esitoIntegrazioneVal","labelEsitoIntegrazione","Integrazione"],["esitoApprovataVal","labelEsitoApprovata","Approvata"],["esitoRespintaVal","labelEsitoRespinta","Respinta"]].map(([l,a,i])=>(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{style:o.lbl,children:[i," (val)"]}),(0,e.jsx)(h,{value:S[l],onChange:e=>w(l,e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Label"}),(0,e.jsx)(g,{value:S[a]||"",onChange:e=>w(a,e)})]})]},l))]}),(0,e.jsx)(v,{id:"righe",label:"\u{1f3a8} Stile righe",open:B("righe"),onToggle:()=>P("righe")}),B("righe")&&(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{style:o.row3,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Gap"}),(0,e.jsx)(h,{value:S.rowGap,onChange:e=>w("rowGap",e),min:0,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Pad. X"}),(0,e.jsx)(h,{value:S.rowPaddingX,onChange:e=>w("rowPaddingX",e),min:0,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Pad. Y"}),(0,e.jsx)(h,{value:S.rowPaddingY,onChange:e=>w("rowPaddingY",e),min:0,unit:"px"})]})]}),(0,e.jsxs)("div",{style:o.row3,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Min H"}),(0,e.jsx)(h,{value:S.rowMinHeight,onChange:e=>w("rowMinHeight",e),min:24,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Radius"}),(0,e.jsx)(h,{value:S.rowRadius,onChange:e=>w("rowRadius",e),min:0,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Bordo"}),(0,e.jsx)(h,{value:S.rowBorderWidth,onChange:e=>w("rowBorderWidth",e),min:0,unit:"px"})]})]}),(0,e.jsx)("label",{style:o.lbl,children:"Colore bordo riga"}),(0,e.jsx)(x,{value:String(S.rowBorderColor||""),onChange:e=>w("rowBorderColor",e)}),(0,e.jsx)("div",{style:o.grp,children:"Colori"}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Zebra pari"}),(0,e.jsx)(x,{value:String(S.zebraEvenBg||""),onChange:e=>w("zebraEvenBg",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Zebra dispari"}),(0,e.jsx)(x,{value:String(S.zebraOddBg||""),onChange:e=>w("zebraOddBg",e)})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Hover"}),(0,e.jsx)(x,{value:String(S.hoverBg||""),onChange:e=>w("hoverBg",e)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Selezionata"}),(0,e.jsx)(x,{value:String(S.selectedBg||""),onChange:e=>w("selectedBg",e)})]})]}),(0,e.jsx)("label",{style:o.lbl,children:"Bordo selezionata"}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsx)("div",{children:(0,e.jsx)(x,{value:String(S.selectedBorderColor||""),onChange:e=>w("selectedBorderColor",e)})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Spessore"}),(0,e.jsx)(h,{value:S.selectedBorderWidth,onChange:e=>w("selectedBorderWidth",e),min:0,unit:"px"})]})]})]}),(0,e.jsx)(v,{id:"chip",label:"\u{1f534} Chip stato",open:B("chip"),onToggle:()=>P("chip")}),B("chip")&&(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:o.grp,children:"Forma"}),(0,e.jsxs)("div",{style:o.row3,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Radius"}),(0,e.jsx)(h,{value:S.statoChipRadius,onChange:e=>w("statoChipRadius",e),min:0})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Pad. X"}),(0,e.jsx)(h,{value:S.statoChipPadX,onChange:e=>w("statoChipPadX",e),min:0})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Pad. Y"}),(0,e.jsx)(h,{value:S.statoChipPadY,onChange:e=>w("statoChipPadY",e),min:0})]})]}),(0,e.jsxs)("div",{style:o.row3,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Bordo"}),(0,e.jsx)(h,{value:S.statoChipBorderW,onChange:e=>w("statoChipBorderW",e),min:0})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Font sz"}),(0,e.jsx)(h,{value:S.statoChipFontSize,onChange:e=>w("statoChipFontSize",e),min:8})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Font w"}),(0,e.jsx)(h,{value:S.statoChipFontWeight,onChange:e=>w("statoChipFontWeight",e),min:100,step:100})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Transform"}),(0,e.jsx)(p,{value:String(S.statoChipTextTransform||"none"),onChange:e=>w("statoChipTextTransform",e),options:[{value:"none",label:"none"},{value:"uppercase",label:"uppercase"},{value:"lowercase",label:"lowercase"},{value:"capitalize",label:"capitalize"}]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Letter spacing"}),(0,e.jsx)(h,{value:S.statoChipLetterSpacing,onChange:e=>w("statoChipLetterSpacing",e),step:.1})]})]}),(0,e.jsx)("div",{style:o.grp,children:"Colori"}),(0,e.jsx)(f,{label:"Da prendere in carico",bg:String(S.statoBgDaPrendere||""),onBg:e=>w("statoBgDaPrendere",e),text:String(S.statoTextDaPrendere||""),onText:e=>w("statoTextDaPrendere",e),border:String(S.statoBorderDaPrendere||""),onBorder:e=>w("statoBorderDaPrendere",e)}),(0,e.jsx)(f,{label:"Presa in carico",bg:String(S.statoBgPresa||""),onBg:e=>w("statoBgPresa",e),text:String(S.statoTextPresa||""),onText:e=>w("statoTextPresa",e),border:String(S.statoBorderPresa||""),onBorder:e=>w("statoBorderPresa",e)}),(0,e.jsx)(f,{label:"Altro",bg:String(S.statoBgAltro||""),onBg:e=>w("statoBgAltro",e),text:String(S.statoTextAltro||""),onText:e=>w("statoTextAltro",e),border:String(S.statoBorderAltro||""),onBorder:e=>w("statoBorderAltro",e)})]}),(0,e.jsx)(v,{id:"titolo",label:"\u{1f4dd} Titolo elenco",open:B("titolo"),onToggle:()=>P("titolo")}),B("titolo")&&(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Testo"}),(0,e.jsx)(g,{value:String(S.listTitleText||""),onChange:e=>w("listTitleText",e),placeholder:"Elenco rapporti di rilevazione"}),(0,e.jsxs)("div",{style:o.row3,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Altezza"}),(0,e.jsx)(h,{value:S.listTitleHeight,onChange:e=>w("listTitleHeight",e),min:0,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Font sz"}),(0,e.jsx)(h,{value:S.listTitleFontSize,onChange:e=>w("listTitleFontSize",e),min:10,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Font w"}),(0,e.jsx)(h,{value:S.listTitleFontWeight,onChange:e=>w("listTitleFontWeight",e),min:100,step:100})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Pad. bottom"}),(0,e.jsx)(h,{value:S.listTitlePaddingBottom,onChange:e=>w("listTitlePaddingBottom",e),min:0,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Pad. left"}),(0,e.jsx)(h,{value:S.listTitlePaddingLeft,onChange:e=>w("listTitlePaddingLeft",e),min:0,unit:"px"})]})]}),(0,e.jsx)("label",{style:o.lbl,children:"Colore testo"}),(0,e.jsx)(x,{value:String(S.listTitleColor||"rgba(0,0,0,0.85)"),onChange:e=>w("listTitleColor",e)})]}),(0,e.jsx)(v,{id:"maschera",label:"\u{1f5bc} Maschera (bordo pannello)",open:B("maschera"),onToggle:()=>P("maschera")}),B("maschera")&&(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Outer offset"}),(0,e.jsx)(h,{value:S.maskOuterOffset,onChange:e=>w("maskOuterOffset",e),min:0,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Inner padding"}),(0,e.jsx)(h,{value:S.maskInnerPadding,onChange:e=>w("maskInnerPadding",e),min:0,unit:"px"})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Border width"}),(0,e.jsx)(h,{value:S.maskBorderWidth,onChange:e=>w("maskBorderWidth",e),min:0,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Border radius"}),(0,e.jsx)(h,{value:S.maskRadius,onChange:e=>w("maskRadius",e),min:0,unit:"px"})]})]}),(0,e.jsx)("label",{style:o.lbl,children:"Background"}),(0,e.jsx)(x,{value:String(S.maskBg||""),onChange:e=>w("maskBg",e)}),(0,e.jsx)("label",{style:o.lbl,children:"Colore bordo"}),(0,e.jsx)(x,{value:String(S.maskBorderColor||""),onChange:e=>w("maskBorderColor",e)})]}),(0,e.jsx)(v,{id:"layout",label:"\u{1f4d0} Layout colonne",open:B("layout"),onToggle:()=>P("layout")}),B("layout")&&(0,e.jsx)("div",{children:(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Gap colonne"}),(0,e.jsx)(h,{value:S.gap,onChange:e=>w("gap",e),min:0,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Pad. prima col."}),(0,e.jsx)(h,{value:S.paddingLeftFirstCol,onChange:e=>w("paddingLeftFirstCol",e),min:0,unit:"px"})]})]})}),(0,e.jsx)(v,{id:"msg",label:"\u{1f4ac} Messaggi",open:B("msg"),onToggle:()=>P("msg")}),B("msg")&&(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Nessun risultato"}),(0,e.jsx)(g,{value:String(S.emptyMessage||""),onChange:e=>w("emptyMessage",e)}),(0,e.jsx)("label",{style:o.lbl,children:"Errore: nessun datasource"}),(0,e.jsx)(g,{value:String(S.errorNoDs||""),onChange:e=>w("errorNoDs",e)})]}),(0,e.jsx)("div",{style:{marginTop:28,borderTop:"1px solid rgba(255,255,255,0.10)",paddingTop:16},children:(0,e.jsx)("button",{type:"button",onClick:()=>{window.confirm("Ripristinare tutti i valori predefiniti?")&&s.onSettingChange({id:s.id,config:t})},style:{padding:"6px 14px",borderRadius:7,border:"1px solid rgba(252,165,165,0.4)",background:"rgba(239,68,68,0.10)",color:"#fca5a5",fontSize:12,cursor:"pointer",fontWeight:600},children:"\u21ba Ripristina predefiniti"})})]})}function C(e){s.p=e}})(),n})())}}});