System.register(["jimu-core/emotion","jimu-core"],function(e,l){var a={},o={};return{setters:[function(e){a.jsx=e.jsx,a.jsxs=e.jsxs},function(e){o.Immutable=e.Immutable,o.React=e.React,o.getAppStore=e.getAppStore}],execute:function(){e((()=>{var e={244:e=>{"use strict";e.exports=o},386:e=>{"use strict";e.exports=a}},l={};function i(a){var o=l[a];if(void 0!==o)return o.exports;var n=l[a]={exports:{}};return e[a](n,n.exports,i),n.exports}i.d=(e,l)=>{for(var a in l)i.o(l,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})},i.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var n={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(n),i.d(n,{__set_webpack_public_path__:()=>h,default:()=>v});var e=i(386),l=i(244);const a={direction:"vertical",gap:8,itemBorderRadius:12,itemPadding:14,labelSize:14,labelWeight:600,labelFont:"'Trebuchet MS', sans-serif",items:[{id:"nav_home",visible:!0,order:1,label:"Home",hashPage:"home",colorBg:"#0d2444",colorAccent:"#60a5fa",colorBgRest:"rgba(255,255,255,0.05)",colorBgHover:"#0d2444",roles:["*"],icon:"home"},{id:"nav_elenco",visible:!0,order:2,label:"Elenco Pratiche",hashPage:"elenco",colorBg:"#0c329d",colorAccent:"#6fa5fb",colorBgRest:"rgba(255,255,255,0.05)",colorBgHover:"#0c329dee",roles:["*"],icon:"elenco"},{id:"nav_nuova",visible:!0,order:3,label:"Nuova Pratica",hashPage:"nuova",colorBg:"#7c2d12",colorAccent:"#f97316",colorBgRest:"rgba(255,255,255,0.05)",colorBgHover:"#7c2d12ee",roles:["TI","ADMIN"],icon:"nuova"},{id:"nav_mappa",visible:!0,order:4,label:"Mappa",hashPage:"mappa",colorBg:"#14532d",colorAccent:"#22c55e",colorBgRest:"rgba(255,255,255,0.05)",colorBgHover:"#14532dee",roles:["*"],icon:"mappa"},{id:"nav_dashboard",visible:!0,order:5,label:"Dashboard",hashPage:"dashboard",colorBg:"#858519",colorAccent:"#fefe2a",colorBgRest:"rgba(255,255,255,0.05)",colorBgHover:"#858519ee",roles:["RI","DT","DA","ADMIN"],icon:"dashboard"},{id:"nav_report",visible:!0,order:6,label:"Report",hashPage:"report",colorBg:"#4a1d96",colorAccent:"#b79ffe",colorBgRest:"rgba(255,255,255,0.05)",colorBgHover:"#4a1d96ee",roles:["RI","DT","DA","ADMIN"],icon:"report"}]},o=((0,l.Immutable)(a),{wrap:{padding:"0 12px 32px",fontSize:13,background:"#1a1f2e",minHeight:"100%",color:"#e5e7eb"},sec:{fontSize:11,fontWeight:700,color:"#93c5fd",textTransform:"uppercase",letterSpacing:1.2,borderBottom:"1px solid rgba(255,255,255,0.10)",paddingBottom:6,marginBottom:14,marginTop:22,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},lbl:{fontSize:11.5,fontWeight:600,color:"#d1d5db",display:"block",marginBottom:4,marginTop:10},hint:{fontSize:10.5,color:"#a0aec0",marginTop:3,lineHeight:1.4},row2:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},row3:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},inp:{width:"100%",padding:"5px 8px",fontSize:12,border:"1px solid rgba(255,255,255,0.15)",borderRadius:6,outline:"none",boxSizing:"border-box",background:"rgba(255,255,255,0.07)",color:"#e5e7eb"},check:{display:"flex",alignItems:"center",gap:8,fontSize:12,color:"#d1d5db",cursor:"pointer",marginTop:8},cardBox:{border:"1px solid rgba(255,255,255,0.10)",borderRadius:10,padding:"10px 12px",marginBottom:8,background:"rgba(255,255,255,0.04)"}});function r(l){return(0,e.jsx)("input",{type:l.type||"text",value:l.value,onChange:e=>l.onChange(e.target.value),placeholder:l.placeholder,style:o.inp})}function t(l){return(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,e.jsx)("input",{type:"number",value:l.value,min:l.min,max:l.max,step:l.step||1,onChange:e=>l.onChange(Number(e.target.value)),style:Object.assign(Object.assign({},o.inp),{width:68})}),l.unit&&(0,e.jsx)("span",{style:{fontSize:11,color:"#a0aec0",flexShrink:0},children:l.unit})]})}function s(l){const a=/^#[0-9a-fA-F]{3,8}$/.test(l.value)?l.value:"#1d4ed8";return(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:7},children:[(0,e.jsx)("input",{type:"color",value:a,onChange:e=>l.onChange(e.target.value),style:{width:32,height:28,padding:2,border:"1px solid rgba(255,255,255,0.15)",borderRadius:6,cursor:"pointer",background:"transparent",flexShrink:0}}),(0,e.jsx)("input",{type:"text",value:l.value,onChange:e=>l.onChange(e.target.value),placeholder:"#rrggbb o rgba(...)",style:Object.assign(Object.assign({},o.inp),{flex:1,fontSize:11})})]})}function d(l){return(0,e.jsxs)("label",{style:o.check,children:[(0,e.jsx)("input",{type:"checkbox",checked:l.value,onChange:e=>l.onChange(e.target.checked)}),l.label]})}function c(l){return(0,e.jsx)("select",{value:l.value,onChange:e=>l.onChange(e.target.value),style:Object.assign(Object.assign({},o.inp),{cursor:"pointer"}),children:l.options.map(l=>(0,e.jsx)("option",{value:l.value,style:{background:"#1a1f2e",color:"#e5e7eb"},children:l.label},l.value))})}function g(a){const i=l.React.useMemo(()=>{var e,a,o,i,n;try{const r=null===(a=null===(e=(0,l.getAppStore)())||void 0===e?void 0:e.getState)||void 0===a?void 0:a.call(e),t=null!==(i=null===(o=null==r?void 0:r.appStateInBuilder)||void 0===o?void 0:o.appConfig)&&void 0!==i?i:null==r?void 0:r.appConfig,s=null!==(n=null==t?void 0:t.pages)&&void 0!==n?n:{},d=(null==s?void 0:s.asMutable)?s.asMutable({deep:!0}):(null==s?void 0:s.toJS)?s.toJS():s,c=Object.entries(d);return 0===c.length?[]:c.filter(([,e])=>!1!==(null==e?void 0:e.isVisible)).map(([e,l])=>{var a,o;const i=(null==l?void 0:l.label)||(null==l?void 0:l.title)||(null==l?void 0:l.name)||e,n=(null==l?void 0:l.name)||(null===(o=null===(a=null==t?void 0:t.historyLabels)||void 0===a?void 0:a.page)||void 0===o?void 0:o[e])||e;return{value:String(n),label:String(i)}}).sort((e,l)=>e.label.localeCompare(l.label,"it"))}catch(e){return console.warn("GII Homepage: impossibile leggere le pagine",e),[]}},[]);return 0===i.length?(0,e.jsxs)("div",{children:[(0,e.jsx)(r,{value:a.value,onChange:a.onChange,placeholder:"inserisci il nome/ID della pagina"}),(0,e.jsx)("div",{style:Object.assign(Object.assign({},o.hint),{color:"#f87171",marginTop:4}),children:"\u26a0 Impossibile leggere le pagine dell'app. Inserisci manualmente il valore che vedi nell'URL quando apri la pagina (es: .../page/NOME-PAGINA)."})]}):(0,e.jsxs)("div",{children:[(0,e.jsxs)("select",{value:a.value,onChange:e=>a.onChange(e.target.value),style:Object.assign(Object.assign({},o.inp),{cursor:"pointer"}),children:[(0,e.jsx)("option",{value:"",style:{background:"#1a1f2e",color:"#9ca3af"},children:"\u2014 seleziona una pagina \u2014"}),i.map(l=>(0,e.jsx)("option",{value:l.value,style:{background:"#1a1f2e",color:"#e5e7eb"},children:l.label},l.value))]}),a.value&&(0,e.jsxs)("div",{style:{fontSize:10,color:"#a0aec0",marginTop:3},children:["Target: ",a.value]}),(0,e.jsx)("div",{style:o.hint,children:"Scegli la pagina che si apre al click sulla card."})]})}const p=[{value:"'Crimson Pro', Georgia, serif",label:"Crimson Pro (serif)"},{value:"'Source Sans 3', 'Segoe UI', sans-serif",label:"Source Sans 3 (sans)"},{value:"Georgia, serif",label:"Georgia"},{value:"'Times New Roman', serif",label:"Times New Roman"},{value:"'Trebuchet MS', sans-serif",label:"Trebuchet MS"},{value:"'Palatino Linotype', serif",label:"Palatino Linotype"},{value:"'Courier New', monospace",label:"Courier New"},{value:"Impact, sans-serif",label:"Impact"}],u=[300,400,500,600,700,800,900].map(e=>({value:String(e),label:`${e} \u2014 ${["Thin","Regular","Medium","SemiBold","Bold","ExtraBold","Black"][[300,400,500,600,700,800,900].indexOf(e)]}`})),b=[{value:"*",label:"Tutti"},{value:"TR",label:"TR"},{value:"TI",label:"TI"},{value:"RZ",label:"RZ"},{value:"RI",label:"RI"},{value:"DT",label:"DT"},{value:"DA",label:"DA"},{value:"ADMIN",label:"ADMIN"}];function v(i){const n=Object.assign(Object.assign({},a),i.config),v=Array.isArray(n.items)?n.items.map(e=>Object.assign({},e)):a.items,[h,x]=l.React.useState(null),m=(e,l)=>i.onSettingChange({id:i.id,config:Object.assign(Object.assign({},n),{[e]:l})}),f=(e,l)=>m("items",v.map((a,o)=>o===e?Object.assign(Object.assign({},a),l):a)),j=(e,l)=>{const a=v.map(e=>Object.assign({},e)),o=e+l;o<0||o>=a.length||([a[e].order,a[o].order]=[a[o].order,a[e].order],m("items",a))},y=[...v].sort((e,l)=>e.order-l.order);return(0,e.jsxs)("div",{style:o.wrap,children:[(0,e.jsx)("div",{style:o.sec,children:"\u2699 Layout"}),(0,e.jsx)("label",{style:o.lbl,children:"Orientamento"}),(0,e.jsx)(c,{value:n.direction,onChange:e=>m("direction",e),options:[{value:"vertical",label:"Verticale (sidebar)"},{value:"horizontal",label:"Orizzontale (toolbar)"}]}),(0,e.jsxs)("div",{style:o.row3,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Gap"}),(0,e.jsx)(t,{value:n.gap,onChange:e=>m("gap",e),min:0,max:24,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Bordi arrot."}),(0,e.jsx)(t,{value:n.itemBorderRadius,onChange:e=>m("itemBorderRadius",e),min:0,max:30,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Padding"}),(0,e.jsx)(t,{value:n.itemPadding,onChange:e=>m("itemPadding",e),min:4,max:30,unit:"px"})]})]}),(0,e.jsx)("label",{style:o.lbl,children:"Font etichette"}),(0,e.jsx)(c,{value:n.labelFont,onChange:e=>m("labelFont",e),options:p}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Dimensione"}),(0,e.jsx)(t,{value:n.labelSize,onChange:e=>m("labelSize",e),min:10,max:22,unit:"px"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Peso"}),(0,e.jsx)(c,{value:String(n.labelWeight),onChange:e=>m("labelWeight",Number(e)),options:u})]})]}),(0,e.jsx)("div",{style:o.sec,children:"\u{1f517} Voci di navigazione"}),y.map((l,a)=>{const i=v.findIndex(e=>e.id===l.id),n=h===l.id;return(0,e.jsxs)("div",{style:Object.assign({border:"1px solid rgba(255,255,255,0.10)",borderRadius:10,padding:"10px 12px",marginBottom:8,background:"rgba(255,255,255,0.04)"},{opacity:l.visible?1:.55}),children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",userSelect:"none"},onClick:()=>x(n?null:l.id),children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:[(0,e.jsx)("div",{style:{width:12,height:12,borderRadius:3,background:l.colorBg,flexShrink:0,border:`1px solid ${l.colorAccent}`}}),(0,e.jsx)("span",{style:{fontWeight:600,fontSize:12,color:"#e5e7eb",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:l.label}),!l.visible&&(0,e.jsx)("span",{style:{fontSize:10,color:"#a0aec0",fontStyle:"italic",flexShrink:0},children:"(nascosta)"})]}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:3,flexShrink:0},children:[a>0&&(0,e.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),j(i,-1)},style:{padding:"1px 5px",fontSize:11,border:"1px solid rgba(255,255,255,0.15)",borderRadius:4,background:"rgba(255,255,255,0.05)",color:"#d1d5db",cursor:"pointer"},children:"\u2191"}),a<y.length-1&&(0,e.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),j(i,1)},style:{padding:"1px 5px",fontSize:11,border:"1px solid rgba(255,255,255,0.15)",borderRadius:4,background:"rgba(255,255,255,0.05)",color:"#d1d5db",cursor:"pointer"},children:"\u2193"}),(0,e.jsx)("span",{style:{fontSize:10,color:"#a0aec0",marginLeft:2},children:n?"\u25b2":"\u25bc"})]})]}),n&&(0,e.jsxs)("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid rgba(255,255,255,0.08)"},children:[(0,e.jsx)(d,{value:l.visible,onChange:e=>f(i,{visible:e}),label:"Visibile"}),(0,e.jsx)("label",{style:o.lbl,children:"Etichetta"}),(0,e.jsx)(r,{value:l.label,onChange:e=>f(i,{label:e})}),(0,e.jsx)("label",{style:o.lbl,children:"Pagina di destinazione"}),(0,e.jsx)(g,{value:l.hashPage,onChange:e=>f(i,{hashPage:e})}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Colore sfondo"}),(0,e.jsx)(s,{value:l.colorBg,onChange:e=>f(i,{colorBg:e})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Colore accento"}),(0,e.jsx)(s,{value:l.colorAccent,onChange:e=>f(i,{colorAccent:e})})]})]}),(0,e.jsxs)("div",{style:o.row2,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Sfondo a riposo"}),(0,e.jsx)(s,{value:l.colorBgRest||"rgba(255,255,255,0.04)",onChange:e=>f(i,{colorBgRest:e})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:o.lbl,children:"Sfondo hover"}),(0,e.jsx)(s,{value:l.colorBgHover||`${l.colorBg}ee`,onChange:e=>f(i,{colorBgHover:e})})]})]}),(0,e.jsx)("label",{style:o.lbl,children:"Ruoli visibili"}),(0,e.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:5,marginTop:4},children:b.map(a=>{const o="*"===a.value,n=o?l.roles.includes("*"):!l.roles.includes("*")&&l.roles.includes(a.value);return(0,e.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:11,cursor:"pointer",background:n?"rgba(59,130,246,0.25)":"rgba(255,255,255,0.06)",border:"1px solid "+(n?"#93c5fd":"rgba(255,255,255,0.12)"),borderRadius:6,padding:"3px 8px",color:n?"#93c5fd":"#9ca3af",userSelect:"none"},children:[(0,e.jsx)("input",{type:"checkbox",checked:n,style:{display:"none"},onChange:()=>{let e=[...l.roles];o?e=n?[]:["*"]:(e.includes("*")&&(e=[]),e=n?e.filter(e=>e!==a.value):[...e,a.value]),f(i,{roles:e})}}),a.label]},a.value)})})]})]},l.id)}),(0,e.jsx)("div",{style:{marginTop:24,paddingTop:14,borderTop:"1px solid rgba(255,255,255,0.08)"},children:(0,e.jsx)("button",{type:"button",onClick:()=>{window.confirm("Ripristinare i valori predefiniti?")&&i.onSettingChange({id:i.id,config:a})},style:{padding:"6px 14px",borderRadius:7,border:"1px solid rgba(252,165,165,0.4)",background:"rgba(239,68,68,0.10)",color:"#fca5a5",fontSize:12,cursor:"pointer",fontWeight:600},children:"\u21ba Ripristina predefiniti"})})]})}function h(e){i.p=e}})(),n})())}}});